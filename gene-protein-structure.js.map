{"version":3,"file":"gene-protein-structure.js","sources":["../../../home/runner/work/stanza/stanza/stanzas/gene-protein-structure/index.js"],"sourcesContent":["import Stanza from 'togostanza/stanza';\n\nexport default class GeneStructure extends Stanza {\n  async render() {\n    const sparqlist = (this.params?.sparqlist || \"/sparqlist\").concat(`/api/gene_pdb_mapping?hgnc_id=${this.params.hgnc_id}`);\n    \n    const res = await fetch(sparqlist, {method: \"get\", headers: {\"Accept\": \"application/json\"}}).then(res => res.json());\n    \n    const molmil = new URL(\"./assets/vendor/molmil/\", import.meta.url) + \"#\";\n    const colors = [\"67,122,204\", \"204,67,149\", \"177,204,67\", \"67,204,204\", \"177,67,204\", \"204,149,67\", \"67,204,122\", \"94,67,204\", \"204,67,67\", \"95,204,67\"];\n    const colors_l = [\"204,224,255\", \"255,204,235\", \"245,255,204\", \"204,255,255\", \"245,204,255\", \"255,235,204\", \"204,255,224\", \"214,204,255\", \"255,204,204\", \"214,255,204\"];\n    \n    res.variant.unshift({tgvid: \"All variants with clinical significance\", cs_class: true});\n    res.variant.unshift({tgvid: \"Colouring by structure\"});\n    res.variant.unshift({tgvid: \"Colouring by molecule\"});\n    res.variant.unshift({tgvid: \"Colouring by gradient N- to C-term\"});\n\n    // inital url\n    let url = molmil + \"bg_color white;\";\n    if (res.structure[0].pdb == \"AlphaFold\") url += \"load \" + encodeURI(res.structure[0].url) + \";\";\n    else url += \"fetch \" + res.structure[0].pdb + \";\";\n    url += \"cartoon_color white, all;\";\n    for (const c of res.structure[0].chains) {\n      url += \"cartoon_color group, chain \" + c + \";\";\n    }\n    url += \"turn y,0.5,50;\"\n    \n    this.renderTemplate(\n      {\n        template: 'stanza.html.hbs',\n        parameters: {\n\t  params: this.params,\n\t  url: url,\n          ...res,\n        }\n      }\n    );\n\n    const change_tgv = (pdb_j) => {\n      let disabled = {};\n      for (const v of res.variant) {\n\tdisabled[v.tgvid] = true;\n        if (v.tgvid.match(/^Colouring by/) || v.tgvid == \"All variants with clinical significance\" || pdb_j.pdb == \"AlphaFold\" || pdb_j.positions[v.position.toString()]) {\n\t  disabled[v.tgvid] = false;\n\t  continue;\n\t}\n      }\n      const options = this.root.querySelector(\"#variant_select_\" + this.params.hgnc_id).querySelectorAll(\"option\");\n      for (let opt of options) {\n\topt.disabled = disabled[opt.value];\n      }\n    }\n\n    const pdb_refine_text = (pdb_j) => {\n      let url = \"https://pdbj.org/mine/summary/\";\n      let info = [\"<a href='\" + url + pdb_j.pdb + \"'>\" + pdb_j.pdb + \"</a>\"];\n      if (pdb_j.pdb == \"AlphaFold\") {\n        url = \"https://alphafold.ebi.ac.uk/entry/\";\n        info = [\"<a href='\" + url + pdb_j.uniprot + \"'>\" + pdb_j.pdb + \"</a>\"];\n      }\n      if (pdb_j.resolution) info.push(\"Resolution: \" + pdb_j.resolution + \" Å\");\n      if (pdb_j.rfree) info.push(\"R-free: \" + pdb_j.rfree);\n      if (pdb_j.rwork) info.push(\"Rwork: \" + pdb_j.rwork);\n      this.root.querySelector(\"#pdb_refine_\" + this.params.hgnc_id).innerHTML = info.join(\", \");\n    }\n    \n    const change_view = (change_pdb) => {\n      const pdb = this.root.querySelector(\"#pdb_select_\" + this.params.hgnc_id).value;\n      const tgvid = this.root.querySelector(\"#variant_select_\" + this.params.hgnc_id).value;\n      let pdb_j;\n      let tgv_j;\n      for (const p of res.structure) {\n\tif (p.pdb == pdb) {\n\t  pdb_j = p;\n\t  break;\n\t}\n      }\n      for (const v of res.variant) {\n\tif (v.tgvid == tgvid) {\n\t  tgv_j = v;\n\t  break;\n\t}\n      }\n      let url = molmil;\n      if (pdb_j.pdb == \"AlphaFold\") url += \"load \" + encodeURI(pdb_j.url) + \";\";\n      else url += \"fetch \" + pdb + \";\";\n      if (tgv_j.tgvid.match(/^Colouring by/)) {\n\tlet type = \"group\";\n\tif (tgv_j.tgvid.match(/structure/)) type = \"structure\";\n\turl += \"bg_color white;cartoon_color white, all;\";\n\tfor (const [i, c] of pdb_j.chains.entries()) {\n\t  if (tgv_j.tgvid.match(/molecule/)) type = \"[\" + colors[i % 10] + \"]\";\n\t  url += \"cartoon_color \" + type + \", chain \" + c + \";\";\n\t}\n\turl += \"turn y,0.5,50;\";\n      } else {\n\turl += \"bg_color [130,130,130];cartoon_color [160,160,160], all;\";\n\tlet resi =  tgv_j.position;\n\tif (pdb_j.pdb != \"AlphaFold\" && tgv_j.tgvid != \"All variants with clinical significance\") resi = pdb_j.positions[tgv_j.position.toString()];\n\tlet resi_r = [];\n\tlet resi_o = [];\n\tlet resi_y= [];\n\tlet resi_dg = [];\n\tlet resi_lg = [];\n\tlet resi_g= [];\n\tif (tgv_j.tgvid == \"All variants with clinical significance\") {\n\t  for (const v of res.variant) {\n\t    if (v.clinical_significance) {\n\t      console.log(v.clinical_significance);\n\t      if (v.clinical_significance.match(/Low penetrance/)) resi_o.push(v.position);\n\t      else if (v.clinical_significance.match(/[Pp]athogenic/)) resi_r.push(v.position);\n\t      else if (v.clinical_significance.match(/risk allele/)) resi_y.push(v.position);\n\t      else if (v.clinical_significance.match(/Uncertain significance/)) resi_dg.push(v.position);\n\t      else if (v.clinical_significance.match(/Likely benign/)) resi_lg.push(v.position);\n\t      else resi_g.push(v.position);\n\t    }\n\t  }\n\t}\n\tfor (const [i, c] of pdb_j.chains.entries()) {\n\t  let color = colors_l[i % 10];\n\t  url += \"cartoon_color [\" + color + \"], chain \" + c + \";\";\n\t  if (tgv_j.tgvid == \"All variants with clinical significance\") {\n\t    if (resi_g[0]) url += \"cartoon_color mediumaquamarine, chain \" + c + \" and resi \" + resi_g.join(\"+\") + \";\";\n\t    if (resi_lg[0]) url += \"cartoon_color lightgreen, chain \" + c + \" and resi \" + resi_lg.join(\"+\") + \";\";\n\t    if (resi_dg[0]) url += \"cartoon_color darkkhaki, chain \" + c + \" and resi \" + resi_dg.join(\"+\") + \";\";\n\t    if (resi_y[0]) url += \"cartoon_color gold, chain \" + c + \" and resi \" + resi_y.join(\"+\") + \";\";\n\t    if (resi_o[0]) url += \"cartoon_color darkorange, chain \" + c + \" and resi \" + resi_o.join(\"+\") + \";\";\n\t    if (resi_r[0]) url += \"cartoon_color orangered, chain \" + c + \" and resi \" + resi_r.join(\"+\") + \";\";\n\t    if (resi_y[0] || resi_o[0] || resi_r[0]) {\n\t      const resi = [...new Set(resi_r.concat(resi_o).concat(resi_y))];\n\t      url += \"show sticks, chain \" + c + \" and resi \" + resi.join(\"+\") + \";\";\n\t    }\n\t  } else {\n\t    url += \"cartoon_color orangered, chain \" + c + \" and resi \" + resi + \";label chain \" + c + \" and resi \" + resi + \", \" + tgv_j.label +  \";\";\n\t  }\n\t}\n      }\n      // molmil の cookie の関係で iframe の src だけ変更するとラベルが表示できないので iframe を再描画\n      //this.root.querySelector(\"#pdb_iframe_\" + this.params.hgnc_id).setAttribute(\"src\", url);\n      const html = '<iframe src=\"' + url + '\" id=\"pdb_iframe_' + this.params.hgnc_id + '\" width=\"800\" height=\"500\"></iframe>';\n      this.root.querySelector(\"#pdb_div_\" + this.params.hgnc_id).innerHTML = html;\n\n      if (change_pdb) {\n\tchange_tgv(pdb_j);\n\tpdb_refine_text(pdb_j);\n      }\n    }\n\n    const change_var_select = (e) => {\n      if (e.target.checked) {\n\tthis.root.querySelector(\"#variant_select_\" + this.params.hgnc_id).querySelectorAll(\"option\").forEach(e => e.style.display = \"none\");\n\tthis.root.querySelectorAll(\".cs_\" + this.params.hgnc_id).forEach(e => e.style.display = \"block\");\n      } else {\n\tthis.root.querySelector(\"#variant_select_\" + this.params.hgnc_id).querySelectorAll(\"option\").forEach(e => e.style.display = \"block\");\t\n      }\n    }\n\n    change_tgv(res.structure[0]);\n    pdb_refine_text(res.structure[0]);\n\n    this.root.querySelector(\"#pdb_select_\" + this.params.hgnc_id).addEventListener(\"change\", e => { change_view(true);})\n    this.root.querySelector(\"#variant_select_\" + this.params.hgnc_id).addEventListener(\"change\", e => { change_view(false); })\n    this.root.querySelector(\"#variant_checkbox_\" + this.params.hgnc_id).addEventListener(\"change\", e => { change_var_select(e); })\n  }\n}\n"],"names":[],"mappings":"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"}